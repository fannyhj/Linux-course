# H3- Soitto kotiin

## Tiivistelmä: Two Machine Virtual Network With Debian 11 Bullseye and Vagrant (https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/)


- Vagrant automatisoi koneiden luomisen ja SSH-yhteydet.

- Koneet voivat kommunikoida keskenään ja Internetin kanssa.

- Vagrantfile määrittää koneiden nimet, IP-osoitteet ja perusasennukset.

- Koneet voi helposti tuhota ja luoda uudelleen testailua varten.


## Tiivistelmä: Salt Quickstart – Salt Stack Master and Slave on Ubuntu Linux (https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20quickstart%20salt%20stack%20master%20and%20slave%20on%20ubuntu%20linux)

- Salt on työkalu, jolla voit hallita etänä useita koneita (“minioneja”) yhdeltä master-palvelimelta.

- Vain masterin täytyy olla julkisesti tavoitettavissa (portit 4505/tcp ja 4506/tcp).

- Minionit voivat olla missä tahansa (palomuurin takana, NATin takana jne.).

- Toimii Ubuntu- ja Debian-järjestelmissä.



## Tiivistelmä: Salt Vagrant - automatically provision one master and two slaves (https://terokarvinen.com/2023/salt-vagrant/#infra-as-code---your-wishes-as-a-text-file)

- Infra as Code: määrittele haluttu tila tekstinä .sls-tiedostoihin (/srv/salt/), esim. hallitse tiedostoja, palveluita, käyttäjiä

- top.sls: määrittelee, mitkä tilatiedostot ajetaan mille minioneille, esim.

base:

  '*':

    - hello

# h3 

Aloitin tehtävän lataamalla Vagrantin virtuaalikoneelleni, joka ei tietenkään onnistunut. Tehtävänanto oli melko suppea, eikä oppitunneilla kerrottu asiasta, joten en tiennyt missä minun pitää tehdä ja mitä minun pitää tehdä. Tämän jälkeen latasin Vagrantin nettisivuilta Windows-käyttöjärjestelmään kuuluvan Vagrant-tiedoston ja käynnistin latauksen. 

Yritin sitten tehdä harjoitussivuille linkatun Antti Salmisen raportin avulla latauksen loppuun. Hän raportissaan kertoi, että teki latauksen cmd:n kautta, joten jatkoin sinne. Kirjoitin cmd:hen "vagrant init generic/centos7" ja latauksen jälkeen "vagrant up". Tajusin heti kirjoittamisen jälkeen, että centos7 ei ollutkaan minun tilanteessani korrekti, mutta sain sen silti toimimaan. VirtualBoxiin ilmestyi uusi virtuaalikone ja pääsin kirjautumaan siihen sisälle. (Antti Salminen, 2020)

En kuitenkaan tajunnut miten minun pitäisi jatkaa tästä eteenpäin ja yritin syöttää komentoja oman koneeni cmd:ssä, alkuperäisessä virtuaalikoneessani sekä juuri tehdyssä Vagrant virtuaalikoneessani, mutta en saanut mitään seuraavia komentoja toimimaan. Pyysin apua myös tekoälytyökaluilta, jotka eivät osanneet auttaa minua eteenpäin. Lopetin yrittämisen tähän vaiheeseen toivoen, että käymme asiaa läpi tarkemmin ensi oppitunnilla.


## Lähteet:

Tero Karvinen, 2021. Two Machine Virtual Network With Debian 11 Bullseye and Vagrant. Luettavissa: https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/

Tero Karvinen, 2018. Salt Quickstart – Salt Stack Master and Slave on Ubuntu Linux Luettavissa: https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20quickstart%20salt%20stack%20master%20and%20slave%20on%20ubuntu%20linux

Tero Karvinen, 2023. Salt Vagrant - automatically provision one master and two slaves. Luettavissa: https://terokarvinen.com/2023/salt-vagrant/#infra-as-code---your-wishes-as-a-text-file

Antti Salminen, 2020. h6. Luettavissa: https://oispadotka.wordpress.com/2020/05/12/h6/
